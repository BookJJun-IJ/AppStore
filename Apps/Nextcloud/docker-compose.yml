name: nextcloud

services:
  nextcloud:
    image: nextcloud:30.0.6
    container_name: nextcloud
    user: $PUID:$PGID
    depends_on:
      - db
    deploy:
      resources:
        limits:
          memory: 1024M
          cpus: '1.0'
    expose:
      - 80
    environment:
      - PUID=$PUID
      - PGID=$PGID
      - TZ=$TZ
      - MYSQL_HOST=db
      - MYSQL_DATABASE=nextcloud
      - MYSQL_USER=nextcloud
      - MYSQL_PASSWORD=$default_pwd
      - NEXTCLOUD_TRUSTED_DOMAINS=localhost,$domain
      - OVERWRITEPROTOCOL=https
      - OVERWRITEHOST=$domain
      - TRUSTED_PROXIES=172.16.0.0/12,10.0.0.0/8,192.168.0.0/16
    volumes:
      - /DATA/AppData/$AppID/html:/var/www/html
      - /DATA/AppData/$AppID/apps:/var/www/html/custom_apps
      - /DATA/AppData/$AppID/config:/var/www/html/config
      - /DATA/AppData/$AppID/data:/var/www/html/data
      - /DATA/Documents:/var/www/html/data/Documents
      - /DATA/Media:/var/www/html/data/Media
      - /DATA/Gallery:/var/www/html/data/Gallery
    restart: unless-stopped
    networks:
      - nextcloud-network
    cpu_shares: 100

  db:
    image: mariadb:11.2
    container_name: nextcloud_db
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'
    environment:
      - TZ=$TZ
      - MYSQL_ROOT_PASSWORD=$default_pwd
      - MYSQL_DATABASE=nextcloud
      - MYSQL_USER=nextcloud
      - MYSQL_PASSWORD=$default_pwd
      - MARIADB_AUTO_UPGRADE=1
    volumes:
      - /DATA/AppData/$AppID/db:/var/lib/mysql
    restart: unless-stopped
    networks:
      - nextcloud-network
    cpu_shares: 50

networks:
  nextcloud-network:
    driver: bridge

x-casaos:
  main: nextcloud
  webui_port: 80
  category: Utilities
  architectures: [amd64, arm64]
  author: Yundera Team
  developer: Nextcloud GmbH
  description:
    en_us: Self-hosted cloud storage and collaboration platform. Install and enable collaboration apps like Calendar, Contacts, Talk, Deck, and Nextcloud Office to create your complete Microsoft Teams alternative with step-by-step guidance.
    ko_kr: ìì²´ í˜¸ìŠ¤íŒ… í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ ë° í˜‘ì—… í”Œë«í¼. Calendar, Contacts, Talk, Deck, Nextcloud Office ë“±ì˜ í˜‘ì—… ì•±ì„ ì„¤ì¹˜í•˜ê³  í™œì„±í™”í•˜ì—¬ ë‹¨ê³„ë³„ ê°€ì´ë“œë¡œ ì™„ì „í•œ Microsoft Teams ëŒ€ì•ˆì„ ë§Œë“œì„¸ìš”.
    zh_cn: è‡ªæ‰˜ç®¡äº‘å­˜å‚¨å’Œåä½œå¹³å°ã€‚å®‰è£…å¹¶å¯ç”¨Calendarã€Contactsã€Talkã€Deckå’ŒNextcloud Officeç­‰åä½œåº”ç”¨ç¨‹åºï¼Œé€šè¿‡åˆ†æ­¥æŒ‡å¯¼åˆ›å»ºå®Œæ•´çš„Microsoft Teamsæ›¿ä»£æ–¹æ¡ˆã€‚
    fr_fr: Plateforme de stockage cloud et de collaboration auto-hebergee. Installez et activez des applications de collaboration comme Calendar, Contacts, Talk, Deck et Nextcloud Office pour creer votre alternative complete a Microsoft Teams avec un guide etape par etape.
    es_es: Plataforma de almacenamiento en la nube y colaboracion autohospedada. Instale y habilite aplicaciones de colaboracion como Calendar, Contacts, Talk, Deck y Nextcloud Office para crear su alternativa completa a Microsoft Teams con orientacion paso a paso.
  title:
    en_us: Nextcloud Teams
    ko_kr: Nextcloud Teams
    zh_cn: Nextcloud Teams
    fr_fr: Nextcloud Teams
    es_es: Nextcloud Teams
  tagline:
    en_us: Build your Teams alternative with guided app installation
    ko_kr: ê°€ì´ë“œëœ ì•± ì„¤ì¹˜ë¡œ Teams ëŒ€ì•ˆ êµ¬ì¶•
    zh_cn: é€šè¿‡å¼•å¯¼å¼åº”ç”¨å®‰è£…æ„å»ºæ‚¨çš„Teamsæ›¿ä»£æ–¹æ¡ˆ
    fr_fr: Construisez votre alternative Teams avec l'installation guidee d'applications
    es_es: Construya su alternativa a Teams con instalacion guiada de aplicaciones
  icon: https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/icon.png
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/screenshot-1.png
    - https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/screenshot-2.png
    - https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/screenshot-3.png
  thumbnail: https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/thumbnail.png
  tips:
    before_install:
      en_us: |
        **Quick Setup Guide**
        
        **1. Initial Setup:**
        - Complete setup wizard (create admin account)
        - Select MySQL database (pre-configured)
        - âš ï¸ **If infinite loading occurs â†’ Restart the app**
        
        **2. After Restart:**
        - Access web interface again
        - **Skip setup wizard** (already completed)
        - Login with your admin credentials
        
        **3. Add Team Apps (Profile â†’ Apps):**
        **Enable Built-in Apps:**
        âœ… Calendar, Contacts, Mail
        
        **Install from App Store:**
        ğŸ” Search & install: Talk, Deck, Tasks, Nextcloud Office
        
        **4. Done!**
        Complete Microsoft Teams alternative ready.
        
        **Files sync to:** `/DATA/Documents` & `/DATA/Media`
        
      ko_kr: |
        **ë¹ ë¥¸ ì„¤ì • ê°€ì´ë“œ**
        
        **1. ì´ˆê¸° ì„¤ì •:**
        - ì„¤ì • ë§ˆë²•ì‚¬ ì™„ë£Œ (ê´€ë¦¬ì ê³„ì • ìƒì„±)
        - MySQL ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ (ì‚¬ì „ êµ¬ì„±ë¨)
        - âš ï¸ **ë¬´í•œ ë¡œë”© ë°œìƒ ì‹œ â†’ ì•± ì¬ì‹œì‘**
        
        **2. ì¬ì‹œì‘ í›„:**
        - ì›¹ ì¸í„°í˜ì´ìŠ¤ ë‹¤ì‹œ ì ‘ì†
        - **ì„¤ì • ë§ˆë²•ì‚¬ ê±´ë„ˆë›°ê¸°** (ì´ë¯¸ ì™„ë£Œë¨)
        - ê´€ë¦¬ì ìê²©ì¦ëª…ìœ¼ë¡œ ë¡œê·¸ì¸
        
        **3. íŒ€ ì•± ì¶”ê°€ (í”„ë¡œí•„ â†’ ì•±):**
        **ë‚´ì¥ ì•± í™œì„±í™”:**
        âœ… Calendar, Contacts, Mail
        
        **ì•± ìŠ¤í† ì–´ì—ì„œ ì„¤ì¹˜:**
        ğŸ” ê²€ìƒ‰ í›„ ì„¤ì¹˜: Talk, Deck, Tasks, Nextcloud Office
        
        **4. ì™„ë£Œ!**
        ì™„ì „í•œ Microsoft Teams ëŒ€ì•ˆ ì¤€ë¹„.
        
        **íŒŒì¼ ë™ê¸°í™”:** `/DATA/Documents` & `/DATA/Media`
  index: /