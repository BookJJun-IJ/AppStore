name: nextcloud

services:
  nextcloud:
    image: ghcr.io/nextcloud-releases/all-in-one:latest  # Nextcloud AIO는 공식적으로 latest 태그 사용 권장
    user: $PUID:$PGID
    deploy:
      resources:
        limits:
          memory: 2048M
          cpus: '2.0'
    expose:  # NSL Router를 위해 ports 대신 expose 사용
      - 8080
    environment:
      - PUID=$PUID
      - PGID=$PGID
      - TZ=$TZ
      - PASSWORD=$default_pwd  # 보안 기본 비밀번호 사용
      - DOMAIN=$domain  # NSL Router 도메인
      - NEXTCLOUD_DATADIR=/DATA/AppData/$AppID/data
      - NEXTCLOUD_STARTUP_APPS=calendar contacts mail spreed deck tasks richdocuments
      - APACHE_PORT=8080
      - APACHE_IP_BINDING=0.0.0.0
      - NEXTCLOUD_TRUSTED_DOMAINS=$domain
      - NEXTCLOUD_ENABLE_DRI_DEVICE=true
    volumes:
      - /DATA/AppData/$AppID/config:/mnt/docker-aio-config
      - /DATA/AppData/$AppID/data:/DATA/AppData/$AppID/data
      - /DATA/Documents:/DATA/Documents  # 사용자 문서 접근
      - /DATA/Media:/DATA/Media  # 미디어 파일 접근
      - /var/run/docker.sock:/var/run/docker.sock:ro
    restart: unless-stopped

x-casaos:
  main: nextcloud
  webui_port: 8080
  category: Utilities
  architectures: [amd64, arm64]
  author: Yundera Team
  developer: Nextcloud GmbH
  description:
    en_us: Official Nextcloud All-in-One with built-in Calendar, Contacts, Mail, Talk, Deck, Tasks, and Nextcloud Office. Includes database, Redis, and all collaboration features in a single container. Perfect Microsoft Teams alternative.
    ko_kr: 내장된 캘린더, 연락처, 메일, Talk, Deck, Tasks, Nextcloud Office가 포함된 공식 Nextcloud All-in-One. 데이터베이스, Redis, 모든 협업 기능이 단일 컨테이너에 포함. 완벽한 Microsoft Teams 대안.
    zh_cn: 官方Nextcloud All-in-One，内置日历、联系人、邮件、Talk、Deck、Tasks和Nextcloud Office。包含数据库、Redis和单个容器中的所有协作功能。完美的Microsoft Teams替代方案。
    fr_fr: Nextcloud All-in-One officiel avec calendrier, contacts, courrier, Talk, Deck, taches et Nextcloud Office intégres. Inclut base de donnees, Redis et toutes les fonctionnalites de collaboration dans un seul conteneur.
    es_es: Nextcloud All-in-One oficial con calendario, contactos, correo, Talk, Deck, tareas y Nextcloud Office integrados. Incluye base de datos, Redis y todas las funciones de colaboracion en un solo contenedor.
  title:
    en_us: Nextcloud AIO
    ko_kr: Nextcloud AIO
    zh_cn: Nextcloud AIO
    fr_fr: Nextcloud AIO
    es_es: Nextcloud AIO
  tagline:
    en_us: Official All-in-One with pre-installed collaboration apps
    ko_kr: 사전 설치된 협업 앱이 포함된 공식 올인원
    zh_cn: 预装协作应用的官方一体化解决方案
    fr_fr: Solution officielle tout-en-un avec applications de collaboration pre-installees
    es_es: Solucion oficial todo en uno con aplicaciones de colaboracion preinstaladas
  icon: https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/icon.png
  screenshot: https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/screenshot-1.png
  thumbnail: https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/thumbnail.png
  tips:
    before_install:
      en_us: |
        **Default Account**
        | Username   | Password       |
        | --------   | ------------   |
        | `admin`    | `$default_pwd` |
        
        **Official Nextcloud All-in-One (AIO)**
        
        **Pre-Installed Apps (Ready to Use):**
        - Calendar: Team scheduling and meetings
        - Contacts: Contact management
        - Mail: Email integration
        - Talk: Video calls and chat
        - Deck: Project management (Kanban boards)
        - Tasks: Task and todo management
        - Nextcloud Office: Document editing (Word/Excel/PowerPoint)
        
        **Setup Steps:**
        1. Access web interface at your assigned domain
        2. Follow the AIO setup wizard with provided credentials
        3. All apps are automatically configured
        4. No manual app installation needed!
        
        **Data Storage:**
        All data stored in: `/DATA/AppData/nextcloud/`
        
        **Microsoft Teams Alternative:**
        Complete collaboration suite with everything included!
      ko_kr: |
        **기본 계정**
        | 사용자명   | 비밀번호       |
        | --------   | ------------   |
        | `admin`    | `$default_pwd` |
        
        **공식 Nextcloud All-in-One (AIO)**
        
        **사전 설치된 앱들 (즉시 사용 가능):**
        - Calendar: 팀 일정 관리 및 회의
        - Contacts: 연락처 관리
        - Mail: 이메일 통합
        - Talk: 화상통화 및 채팅
        - Deck: 프로젝트 관리 (칸반 보드)
        - Tasks: 작업 및 할 일 관리
        - Nextcloud Office: 문서 편집 (워드/엑셀/파워포인트)
        
        **설정 단계:**
        1. 할당된 도메인에서 웹 인터페이스 접속
        2. 제공된 자격 증명으로 AIO 설정 마법사 따라하기
        3. 모든 앱이 자동으로 구성됨
        4. 수동 앱 설치 불필요!
        
        **데이터 저장소:**
        모든 데이터 저장 위치: `/DATA/AppData/nextcloud/`
        
        **Microsoft Teams 대안:**
        모든 것이 포함된 완전한 협업 제품군!
  index: /