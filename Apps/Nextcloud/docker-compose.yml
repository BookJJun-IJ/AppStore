name: nextcloud

services:
  nextcloud:
    image: ghcr.io/nextcloud-releases/all-in-one:latest
    user: $PUID:$PGID
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'
    expose:
      - 8080
    environment:
      - PUID=$PUID
      - PGID=$PGID
      - TZ=$TZ
      - APACHE_PORT=8080
      - APACHE_IP_BINDING=0.0.0.0
    volumes:
      - /DATA/AppData/$AppID/config:/mnt/docker-aio-config
      - /var/run/docker.sock:/var/run/docker.sock:ro
    restart: unless-stopped

x-casaos:
  main: nextcloud
  webui_port: 8080
  category: Utilities
  architectures: [amd64, arm64]
  author: Yundera Team
  developer: Nextcloud GmbH
  description:
    en_us: Minimal Nextcloud All-in-One installation for testing
  title:
    en_us: Nextcloud AIO (Minimal)
  tagline:
    en_us: Testing version with minimal configuration
  icon: https://cdn.jsdelivr.net/gh/Yundera/AppStore@main/Apps/Nextcloud/icon.png
  tips:
    before_install:
      en_us: |
        **최소 설정 테스트 버전**
        
        이 버전은 문제 해결을 위한 최소 설정입니다.
        정상 작동하면 전체 기능 버전으로 업그레이드하세요.
  index: /