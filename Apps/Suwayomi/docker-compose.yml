name: suwayomi

services:
  suwayomi:
    image: ghcr.io/suwayomi/tachidesk:v2.0.1854  # Í≥µÏãù ÏµúÏã† Ïù¥ÎØ∏ÏßÄ
    user: $PUID:$PGID
    container_name: suwayomi
    expose:
      - 80
    environment:
      PUID: $PUID
      PGID: $PGID
      TZ: $TZ
      # Í≥µÏãù Docker ÌôòÍ≤ΩÎ≥ÄÏàò ÏÇ¨Ïö© (Ìè¨Ìä∏ ÎßµÌïë)
      BIND_IP: 0.0.0.0
      BIND_PORT: 80
      
      # Ïù∏Ï¶ù ÏÑ§Ï†ï
      BASIC_AUTH_ENABLED: true
      BASIC_AUTH_USERNAME: admin
      BASIC_AUTH_PASSWORD: $default_pwd
      
      # Îã§Ïö¥Î°úÎìú ÏÑ§Ï†ï
      DOWNLOAD_AS_CBZ: true
      AUTO_DOWNLOAD_CHAPTERS: false  # ÏàòÎèô Ï†úÏñ¥
      AUTO_DOWNLOAD_EXCLUDE_UNREAD: true
      AUTO_DOWNLOAD_NEW_CHAPTERS_LIMIT: 0
      
      # ÏóÖÎç∞Ïù¥Ìä∏ ÏÑ§Ï†ï (Îçî Î≥¥ÏàòÏ†Å)
      UPDATE_EXCLUDE_UNREAD: true
      UPDATE_EXCLUDE_STARTED: true
      UPDATE_EXCLUDE_COMPLETED: true
      UPDATE_INTERVAL: 0  # ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏ ÎπÑÌôúÏÑ±Ìôî
      UPDATE_MANGA_INFO: false
      
      # WebUI ÏÑ§Ï†ï - Preview Î≤ÑÏ†Ñ (ÎîîÎ∞îÏù¥Ïä§Î≥Ñ ÏÑ§Ï†ï ÏßÄÏõê)
      WEB_UI_ENABLED: true
      WEB_UI_FLAVOR: WebUI
      WEB_UI_CHANNEL: preview  # üî• ÎîîÎ∞îÏù¥Ïä§Î≥Ñ ÏÑ§Ï†ï Í∏∞Îä•
      WEB_UI_UPDATE_INTERVAL: 23
      
      # ÌôïÏû• Ï†ÄÏû•ÏÜå (KeiyoushiÎßå)
      EXTENSION_REPOS: >-
        ["https://raw.githubusercontent.com/keiyoushi/extensions/repo/index.min.json"]
      
      # ÏÑ±Îä• ÏÑ§Ï†ï
      MAX_SOURCES_IN_PARALLEL: 3  # Îçî Î≥¥ÏàòÏ†Å
      
      # Î∞±ÏóÖ ÏÑ§Ï†ï
      BACKUP_INTERVAL: 7  # Ï£ºÍ∞Ñ Î∞±ÏóÖ
      BACKUP_TTL: 30     # 30Ïùº Î≥¥Í¥Ä
      
      # FlareSolverr Ïó∞Îèô
      FLARESOLVERR_ENABLED: true
      FLARESOLVERR_URL: http://suwayomi-flaresolverr:8191
      FLARESOLVERR_TIMEOUT: 60
      FLARESOLVERR_SESSION_NAME: suwayomi
      FLARESOLVERR_SESSION_TTL: 15
      
      # Î≥¥Ïïà ÏÑ§Ï†ï
      DEBUG: false
    volumes:
      # Í≥µÏãù Í∂åÏû• Î≥ºÎ•® ÏàúÏÑú (downloadsÍ∞Ä Î®ºÏ†Ä!)
      - /DATA/Media/Manga:/home/suwayomi/.local/share/Tachidesk/downloads
      - /DATA/AppData/$AppID/data:/home/suwayomi/.local/share/Tachidesk
    restart: unless-stopped
    deploy:
      resources:
        limits:
          memory: 1G
          cpus: '1.0'
    depends_on:
      - flaresolverr

  flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: suwayomi-flaresolverr
    user: $PUID:$PGID
    environment:
      PUID: $PUID
      PGID: $PGID
      TZ: $TZ
      LOG_LEVEL: info
      CAPTCHA_SOLVER: none
      # FlareSolverr ÏµúÏ†ÅÌôî
      BROWSER_TIMEOUT: 40000
      TEST_URL: https://www.google.com
    volumes:
      - /DATA/AppData/$AppID/flaresolverr:/app/data
    restart: unless-stopped
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'

x-casaos:
  architectures:
    - amd64
    - arm64
  main: suwayomi
  author: Suwayomi Team
  category: Media
  icon: https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Suwayomi/icon.png
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Suwayomi/screenshot-1.png
    - https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Suwayomi/screenshot-2.png
    - https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Suwayomi/screenshot-3.png
  thumbnail: https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Suwayomi/screenshot-1.png
  description:
    en_us: |
      Self-hosted manga server that lets you read manga from 1200+ sources on any device. 
      Access your manga library from web browsers, mobile apps, or any OPDS-compatible reader. 
      Pre-configured with trusted manga sources and safe browsing settings.
  developer: Suwayomi Project
  tagline:
    en_us: Your personal manga server with 1200+ sources
  title:
    en_us: Suwayomi
  tips:
    before_install:
      en_us: |
        **üîê Default Login**
        | Username | Password       |
        | -------- | -------------- |
        | `admin`  | `$default_pwd` |
        
        **üì± ONE-TIME Mobile Setup (60 seconds)** 
        
        **After first login on mobile:**
        
        1Ô∏è‚É£ **Settings** ‚Üí **General** ‚Üí **Device Management**
        
        2Ô∏è‚É£ **Add Device**: Name it `Mobile` or `Phone`
        
        3Ô∏è‚É£ **Reader Settings** for Mobile device:
        ```
        ‚Ä¢ Reading Mode: Vertical ‚úÖ
        ‚Ä¢ Scale Type: Fit Width ‚úÖ  
        ‚Ä¢ Tap to Turn Page: ON ‚úÖ
        ‚Ä¢ Page Spacing: 0 ‚úÖ
        ```
        
        4Ô∏è‚É£ **Save** and **select "Mobile" device**
        
        **Done! Mobile perfectly optimized** üéâ
        
        **üíª Desktop automatically uses separate settings**
        
        **üéØ Why this setup?**
        - Vertical: Perfect for mobile scrolling
        - Fit Width: No horizontal scrolling needed
        - Tap Zones: Left/right tap to turn pages
        - 0 Spacing: Maximum reading area
        
        **üìö Recommended Sources**
        Settings ‚Üí Browse ‚Üí Extensions:
        MangaDex, Mangakakalot, Mangafire, AsuraScans
  index: /
  webui_port: 80