name: plex

services:
  plex:
    image: lscr.io/linuxserver/plex:1.41.8.9834-071366D65-ls269
    container_name: plex
    restart: unless-stopped
    network_mode: host
    expose:
      - 32400
    #ports:
    # Additional ports can be uncommented if needed for specific Plex features
    #  - "3005:3005/tcp"      # Plex Home Theater via Plex Companion
    #  - "8324:8324/tcp"      # Plex for Roku via Plex Companion  
    #  - "32469:32469/tcp"    # Plex DLNA Server
    #  - "1900:1900/udp"      # Plex DLNA Server
    #  - "32410:32410/udp"    # GDM network discovery
    #  - "32412:32412/udp"    # GDM network discovery
    #  - "32413:32413/udp"    # GDM network discovery
    #  - "32414:32414/udp"    # GDM network discovery
    volumes:
      - /DATA/AppData/$AppID/config:/config
      - /DATA/AppData/$AppID/transcode:/transcode
      - /DATA/Media/Movies:/data/movies
      - /DATA/Media/TV Shows:/data/tvshows
      - /DATA/Media/Music:/data/music
      - /DATA/Downloads:/data/downloads
    user: $PUID:$PGID
    environment:
      PGID: $PGID                    # Group ID for file permissions
      PUID: $PUID                    # User ID for file permissions
      TZ: $TZ                        # Timezone setting
      PLEX_CLAIM: "insert your token https://plex.tv/claim"    # Plex claim token for automatic setup (optional)
    devices:
      - /dev/dri:/dev/dri            # Hardware acceleration for transcoding
    cpu_shares: 100
    deploy:
      resources:
        limits:
          memory: 1G

x-casaos:
  architectures:
    - amd64
    - arm64
  author: Yundera Team
  category: Media
  developer: Plex Inc.
  description:
    en_us: Plex - Stream your personal media collection anywhere. Organize your movies, TV shows, music, and photos with powerful media server that transcodes and streams to any device.
    zh_cn: Plex - 随时随地流式传输您的个人媒体收藏。使用强大的媒体服务器整理您的电影、电视节目、音乐和照片，可转码并流式传输到任何设备。
    ko_kr: Plex - 개인 미디어 컬렉션을 어디서나 스트리밍하세요. 영화, TV 프로그램, 음악, 사진을 정리하고 모든 기기로 트랜스코딩 및 스트리밍할 수 있는 강력한 미디어 서버입니다.
  icon: https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Plex/icon.png
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Plex/screenshot-1.png
    - https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Plex/screenshot-2.png
    - https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Plex/screenshot-3.png
  thumbnail: https://cdn.jsdelivr.net/gh/BookJJun-IJ/AppStore@create/Apps/Plex/thumbnail.png
  index: /
  tagline:
    en_us: Your personal streaming service for all your media
    zh_cn: 您的个人媒体流媒体服务
    ko_kr: 모든 미디어를 위한 개인 스트리밍 서비스
  title:
    en_us: Plex
    zh_cn: Plex
    ko_kr: Plex
  store_app_id: plex
  main: plex
  is_uncontrolled: false
  webui_port: 32400
  tips:
    before_install:
      en_us: |
        🎬 **What is Plex?**
        Transform your computer into a Netflix-like streaming service for your home! Plex lets you watch your movies, TV shows, and music on any device.

        🔑 **IMPORTANT: Token Setup (Required for Personal Library!):**
        ⚠️ **YOU MUST SET UP A CLAIM TOKEN TO USE YOUR PERSONAL LIBRARY**
        • Visit https://plex.tv/claim to get your token (valid for 4 minutes)
        • CasaOS → Apps → Plex → Settings → Environment Variables (PLEX_CLAIM) → Enter token
        • Save settings and restart - your server will be registered to your account
        • **Without this token, you can only access Plex's free content, not your personal media!**

        📁 **Adding Libraries:**
        • In Plex web: Left sidebar → More → "+" button next to your account name → Select library type
        • Folder paths: Movies(`/data/movies`), TV Shows(`/data/tvshows`), Music(`/data/music`)

        📱 **Using Apps:**
        • Install Plex app on iOS/Android/Smart TV/streaming devices
        • Login with your Plex account - server will be automatically discovered

        💡 **File Organization Tips:**
        • Movies: "Avatar (2009)/Avatar (2009).mp4"
        • TV: "Breaking Bad/Season 01/S01E01.mp4"
        • Music: "Artist/Album/Song.mp3"

        💰 **Pricing:**
        • Home network streaming: Free
        • Remote streaming (outside home): Plex Pass subscription required
        • Mobile app: One-time purchase or free with Plex Pass

        ⚡ **Key Features:**
        • Stream to any device • Share with friends/family • Automatic metadata • Remote access

      zh_cn: |
        🎬 **什么是Plex？**
        将您的电脑变成家庭版Netflix！Plex让您在任何设备上观看电影、电视剧和音乐。

        🔑 **重要：令牌设置（使用个人媒体库必需！）:**
        ⚠️ **必须设置声明令牌才能使用您的个人媒体库**
        • 访问 https://plex.tv/claim 获取令牌（4分钟内有效）
        • CasaOS → 应用 → Plex → 设置 → 环境变量(PLEX_CLAIM) → 输入令牌
        • 保存设置并重启 - 服务器将注册到您的账户
        • **没有此令牌，您只能访问Plex的免费内容，无法使用个人媒体！**

        📁 **添加媒体库:**
        • Plex网页版：左侧边栏 → 更多 → 账户名旁"+"按钮 → 选择媒体库类型
        • 文件夹路径：电影(`/data/movies`)，电视剧(`/data/tvshows`)，音乐(`/data/music`)

        📱 **应用使用:**
        • 在iOS/Android/智能电视/流媒体设备上安装Plex应用
        • 用Plex账户登录 - 服务器将自动被发现

        💡 **文件整理技巧:**
        • 电影："阿凡达 (2009)/阿凡达 (2009).mp4"
        • 电视剧："绝命毒师/Season 01/S01E01.mp4"
        • 音乐："艺术家/专辑/歌曲.mp3"

        💰 **价格说明:**
        • 家庭网络内流媒体：免费
        • 远程流媒体（家外访问）：需要Plex Pass订阅
        • 移动应用：一次性购买或Plex Pass订阅免费

        ⚡ **主要功能:**
        • 任意设备流媒体 • 与朋友/家人分享 • 自动元数据 • 远程访问

      ko_kr: |
        🎬 **Plex가 뭔가요?**
        컴퓨터를 가정용 넷플릭스로 만들어보세요! Plex를 사용하면 영화, TV 프로그램, 음악을 어떤 기기에서든 시청할 수 있어요.

        ⚠️ **한국 사용자 주의사항:**
        • Plex는 한국에서 지역 제한이 있어 새 계정 생성이 어려울 수 있습니다
        • 새 계정 생성 시: VPN을 사용해 해외 IP로 우회 후 가입하세요
        • 계정 생성 후에는 한국에서도 정상적으로 사용 가능합니다

        🔑 **중요: 토큰 등록 (개인 라이브러리 사용 필수!):**
        ⚠️ **개인 미디어 라이브러리를 사용하려면 반드시 클레임 토큰을 설정해야 합니다**
        • https://plex.tv/claim 방문해서 토큰 복사 (4분간 유효)
        • CasaOS → 앱 → Plex → 설정 → 환경변수(PLEX_CLAIM)에 토큰 입력
        • 저장 후 재시작하면 계정에 서버 등록됨
        • **토큰 없이는 Plex 무료 콘텐츠만 이용 가능하고, 개인 미디어는 사용할 수 없습니다!**

        📁 **라이브러리 추가:**
        • Plex 웹에서 좌측 더보기 → 계정명 옆 "+" 버튼 → 라이브러리 타입 선택
        • 폴더 경로: 영화(`/data/movies`), TV(`/data/tvshows`), 음악(`/data/music`)

        📱 **앱 사용:**
        • iOS/Android/Smart TV/스트리밍 기기에 Plex 앱 설치
        • Plex 계정으로 로그인하면 자동으로 서버 발견

        💡 **파일 정리 팁:**
        • 영화: "아바타 (2009)/아바타 (2009).mp4"
        • TV: "드라마명/Season 01/S01E01.mp4"  
        • 음악: "아티스트/앨범/곡명.mp3"

        💰 **요금 안내:**
        • 집 내부 네트워크: 무료 사용 가능
        • 원격 스트리밍(외부 접속): Plex Pass 구독 필요
        • 모바일 앱 일회성 구매 또는 Plex Pass 구독 시 무료

        ⚡ **주요 기능:**
        • 모든 기기에서 스트리밍 • 친구/가족 공유 • 자동 메타데이터 • 원격 접속