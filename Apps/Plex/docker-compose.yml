name: plex

services:
  plex:
    image: lscr.io/linuxserver/plex:1.41.8.9834-071366D65-ls269
    container_name: plex
    restart: unless-stopped
    expose:
      - 32400
    #ports:
    # Additional ports can be uncommented if needed for specific Plex features
    #  - "3005:3005/tcp"      # Plex Home Theater via Plex Companion
    #  - "8324:8324/tcp"      # Plex for Roku via Plex Companion  
    #  - "32469:32469/tcp"    # Plex DLNA Server
    #  - "1900:1900/udp"      # Plex DLNA Server
    #  - "32410:32410/udp"    # GDM network discovery
    #  - "32412:32412/udp"    # GDM network discovery
    #  - "32413:32413/udp"    # GDM network discovery
    #  - "32414:32414/udp"    # GDM network discovery
    volumes:
      - /DATA/AppData/$AppID/config:/config
      - /DATA/AppData/$AppID/transcode:/transcode
      - /DATA/Media/Movies:/data/movies
      - /DATA/Media/TV Shows:/data/tvshows
      - /DATA/Media/Music:/data/music
      - /DATA/Downloads:/data/downloads
    user: $PUID:$PGID
    environment:
      PGID: $PGID                    # Group ID for file permissions
      PUID: $PUID                    # User ID for file permissions
      TZ: $TZ                        # Timezone setting
      PLEX_CLAIM: ""                 # Plex claim token for automatic setup (optional)
    devices:
      - /dev/dri:/dev/dri            # Hardware acceleration for transcoding
    cpu_shares: 100
    deploy:
      resources:
        limits:
          memory: 1G
    network_mode: plex

x-casaos:
  architectures:
    - amd64
    - arm64
  author: CasaOS Team
  category: Media
  developer: Plex Inc.
  description:
    en_us: Plex - Stream your personal media collection anywhere. Organize your movies, TV shows, music, and photos with powerful media server that transcodes and streams to any device.
    zh_cn: Plex - éšæ—¶éšåœ°æµå¼ä¼ è¾“æ‚¨çš„ä¸ªäººåª’ä½“æ”¶è—ã€‚ä½¿ç”¨å¼ºå¤§çš„åª’ä½“æœåŠ¡å™¨æ•´ç†æ‚¨çš„ç”µå½±ã€ç”µè§†èŠ‚ç›®ã€éŸ³ä¹å’Œç…§ç‰‡ï¼Œå¯è½¬ç å¹¶æµå¼ä¼ è¾“åˆ°ä»»ä½•è®¾å¤‡ã€‚
    ko_kr: Plex - ê°œì¸ ë¯¸ë””ì–´ ì»¬ë ‰ì…˜ì„ ì–´ë””ì„œë‚˜ ìŠ¤íŠ¸ë¦¬ë°í•˜ì„¸ìš”. ì˜í™”, TV í”„ë¡œê·¸ë¨, ìŒì•…, ì‚¬ì§„ì„ ì •ë¦¬í•˜ê³  ëª¨ë“  ê¸°ê¸°ë¡œ íŠ¸ëœìŠ¤ì½”ë”© ë° ìŠ¤íŠ¸ë¦¬ë°í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ë¯¸ë””ì–´ ì„œë²„ì…ë‹ˆë‹¤.
  icon: https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Plex/icon.png
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Plex/screenshot-1.png
    - https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Plex/screenshot-2.png
    - https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Plex/screenshot-3.png
  thumbnail: https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Plex/thumbnail.png
  index: /
  tagline:
    en_us: Your personal streaming service for all your media
    zh_cn: æ‚¨çš„ä¸ªäººåª’ä½“æµåª’ä½“æœåŠ¡
    ko_kr: ëª¨ë“  ë¯¸ë””ì–´ë¥¼ ìœ„í•œ ê°œì¸ ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤
  title:
    en_us: Plex
    zh_cn: Plex
    ko_kr: Plex
  store_app_id: plex
  main: plex
  is_uncontrolled: false
  webui_port: 32400
  tips:
    before_install:
      en_us: |
        ğŸ” **Plex Account Setup:**
        â€¢ Visit https://plex.tv/claim to get claim token (optional)
        â€¢ Add token to PLEX_CLAIM environment variable for automatic setup
        â€¢ Without token: Manual setup via web interface

        ğŸ“ **Media Library Structure:**
        â€¢ Movies: `/DATA/Media/Movies`
        â€¢ TV Shows: `/DATA/Media/TV Shows`
        â€¢ Music: `/DATA/Media/Music`
        â€¢ Downloads: `/DATA/Downloads`
        â€¢ Config: `/DATA/AppData/plex/config` (Auto-created)
        â€¢ Transcode: `/DATA/AppData/plex/transcode` (Temp files)

        ğŸ’¡ **Getting Started:**
        â€¢ Access via web interface at :32400/web
        â€¢ Add media libraries pointing to /data folders
        â€¢ Install Plex apps on devices for streaming
        â€¢ Hardware transcoding requires Plex Pass subscription

        âš ï¸ **Performance Tips:**
        â€¢ Enable hardware acceleration if supported (/dev/dri device mapped)
        â€¢ Transcode folder uses temporary storage
        â€¢ Organize media with proper naming conventions

      zh_cn: |
        ğŸ” **Plexè´¦æˆ·è®¾ç½®ï¼š**
        â€¢ è®¿é—® https://plex.tv/claim è·å–å£°æ˜ä»¤ç‰Œï¼ˆå¯é€‰ï¼‰
        â€¢ å°†ä»¤ç‰Œæ·»åŠ åˆ° PLEX_CLAIM ç¯å¢ƒå˜é‡ä»¥è‡ªåŠ¨è®¾ç½®
        â€¢ æ— ä»¤ç‰Œï¼šé€šè¿‡ç½‘é¡µç•Œé¢æ‰‹åŠ¨è®¾ç½®

        ğŸ“ **åª’ä½“åº“ç»“æ„ï¼š**
        â€¢ ç”µå½±ï¼š`/DATA/Media/Movies`
        â€¢ ç”µè§†èŠ‚ç›®ï¼š`/DATA/Media/TV Shows`
        â€¢ éŸ³ä¹ï¼š`/DATA/Media/Music`
        â€¢ ä¸‹è½½ï¼š`/DATA/Downloads`
        â€¢ é…ç½®ï¼š`/DATA/AppData/plex/config`ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
        â€¢ è½¬ç ï¼š`/DATA/AppData/plex/transcode`ï¼ˆä¸´æ—¶æ–‡ä»¶ï¼‰

        ğŸ’¡ **å…¥é—¨æŒ‡å—ï¼š**
        â€¢ é€šè¿‡ :32400/web è®¿é—®ç½‘é¡µç•Œé¢
        â€¢ æ·»åŠ æŒ‡å‘ /data æ–‡ä»¶å¤¹çš„åª’ä½“åº“
        â€¢ åœ¨è®¾å¤‡ä¸Šå®‰è£…Plexåº”ç”¨è¿›è¡Œæµåª’ä½“æ’­æ”¾
        â€¢ ç¡¬ä»¶è½¬ç éœ€è¦Plex Passè®¢é˜…

        âš ï¸ **æ€§èƒ½æç¤ºï¼š**
        â€¢ å¦‚æœæ”¯æŒè¯·å¯ç”¨ç¡¬ä»¶åŠ é€Ÿï¼ˆå·²æ˜ å°„/dev/driè®¾å¤‡ï¼‰
        â€¢ è½¬ç æ–‡ä»¶å¤¹ä½¿ç”¨ä¸´æ—¶å­˜å‚¨
        â€¢ ä½¿ç”¨æ­£ç¡®çš„å‘½åè§„åˆ™æ•´ç†åª’ä½“æ–‡ä»¶

      ko_kr: |
        ğŸ” **Plex ê³„ì • ì„¤ì •:**
        â€¢ https://plex.tv/claim ì—ì„œ í´ë ˆì„ í† í° íšë“ (ì„ íƒì‚¬í•­)
        â€¢ PLEX_CLAIM í™˜ê²½ë³€ìˆ˜ì— í† í° ì¶”ê°€í•˜ì—¬ ìë™ ì„¤ì •
        â€¢ í† í° ì—†ì´: ì›¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ìˆ˜ë™ ì„¤ì •

        ğŸ“ **ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¡°:**
        â€¢ ì˜í™”: `/DATA/Media/Movies`
        â€¢ TV í”„ë¡œê·¸ë¨: `/DATA/Media/TV Shows`
        â€¢ ìŒì•…: `/DATA/Media/Music`
        â€¢ ë‹¤ìš´ë¡œë“œ: `/DATA/Downloads`
        â€¢ ì„¤ì •: `/DATA/AppData/plex/config` (ìë™ ìƒì„±)
        â€¢ íŠ¸ëœìŠ¤ì½”ë“œ: `/DATA/AppData/plex/transcode` (ì„ì‹œ íŒŒì¼)

        ğŸ’¡ **ì‹œì‘í•˜ê¸°:**
        â€¢ :32400/web ì—ì„œ ì›¹ ì¸í„°í˜ì´ìŠ¤ ì ‘ì†
        â€¢ /data í´ë”ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
        â€¢ ìŠ¤íŠ¸ë¦¬ë°ì„ ìœ„í•´ ê¸°ê¸°ì— Plex ì•± ì„¤ì¹˜
        â€¢ í•˜ë“œì›¨ì–´ íŠ¸ëœìŠ¤ì½”ë”©ì€ Plex Pass êµ¬ë… í•„ìš”

        âš ï¸ **ì„±ëŠ¥ íŒ:**
        â€¢ ì§€ì›ë˜ëŠ” ê²½ìš° í•˜ë“œì›¨ì–´ ê°€ì† í™œì„±í™” (/dev/dri ì¥ì¹˜ ë§¤í•‘ë¨)
        â€¢ íŠ¸ëœìŠ¤ì½”ë“œ í´ë”ëŠ” ì„ì‹œ ì €ì¥ì†Œ ì‚¬ìš©
        â€¢ ì ì ˆí•œ ëª…ëª… ê·œì¹™ìœ¼ë¡œ ë¯¸ë””ì–´ ì •ë¦¬