name: navidrome

services:
  app:
    container_name: navidrome
    image: deluan/navidrome:latest
    restart: unless-stopped
    user: 1000:1000 
    ports:
      - "4533:4533"
    environment:
      ND_MUSICFOLDER: /music
      ND_DATAFOLDER: /data
      ND_LOGLEVEL: info
      ND_BASEURL: ""
      
      ND_ENABLETRANSCODINGCONFIG: "true"
      ND_ENABLEDOWNLOADS: "true"
      ND_ENABLEEXTERNALSERVICES: "false"
      ND_ENABLESHARING: "true"
      ND_ENABLESTARRATING: "true"
      ND_ENABLEUSEREDITING: "false"
      
      ND_TRANSCODINGCACHESIZE: "100MB"
      ND_IMAGECACHESIZE: "100MB"
      ND_SCANNER_INTERVAL: "1m"
      ND_SESSIONTIMEOUT: "24h"
      
      ND_UILOGINBACKGROUNDURL: ""
      ND_UIWELCOMEMESSAGE: "Welcome to Navidrome!"
      ND_DEFAULTLANGUAGE: "en"
      ND_DEFAULTTHEME: "Dark"
      
      ND_LASTFM_ENABLED: "true"
      ND_SPOTIFY_ID: ""
      ND_LISTENBRAINZ_ENABLED: "false"
    volumes:
      - /DATA/AppData/$AppID/data:/data
      - /DATA/Media/Music:/music:ro
      - /DATA/Downloads:/downloads:ro
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost:4533/app"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      pcs: null

networks:
  pcs:
    name: pcs

x-casaos:
  architectures:
    - amd64
    - arm64
  author: self
  category: media
  description:
    en_us: Navidrome - Modern Music Server and Streamer compatible with Subsonic/Airsonic clients, featuring a beautiful web interface, mobile apps support, and smart playlists
    zh_cn: Navidrome - 现代音乐服务器和流媒体播放器，兼容Subsonic/Airsonic客户端，具有美观的网页界面、移动应用支持和智能播放列表
    ko_kr: Navidrome - Subsonic/Airsonic 클라이언트와 호환되는 현대적인 음악 서버 및 스트리머로, 아름다운 웹 인터페이스, 모바일 앱 지원, 스마트 플레이리스트 기능 제공
  icon: https://raw.githubusercontent.com/BookJJun-IJ/AppStore/create/Apps/Navidrome/icons.png
  screenshot_link:
    - https://raw.githubusercontent.com/BookJJun-IJ/AppStore/create/Apps/Navidrome/screenshots1.png
    - https://raw.githubusercontent.com/BookJJun-IJ/AppStore/create/Apps/Navidrome/screenshots2.png
    - https://raw.githubusercontent.com/BookJJun-IJ/AppStore/create/Apps/Navidrome/screenshots3.png
  index: /
  tagline:
    en_us: Your personal music streaming server with modern web interface
    zh_cn: 具有现代网页界面的个人音乐流媒体服务器
    ko_kr: 현대적인 웹 인터페이스를 갖춘 개인 음악 스트리밍 서버
  port_map: "4533"
  store_app_id: navidrome
  title:
    en_us: Navidrome
    zh_cn: Navidrome
    ko_kr: Navidrome
  main: app
  is_uncontrolled: false
  volumes:
    - /DATA/AppData/$AppID/data
    - /DATA/Media/Music
    - /DATA/Downloadsname: navidrome
  tips:
    en_us: |
      📁 Folder Structure Guide:
      • Music Library: /DATA/Media/Music
      • Downloaded Music: /DATA/Downloads
      • Database: /DATA/AppData/navidrome/data (Do not modify)
      
      🚀 Getting Started:
      • First visit: Create admin account at http://YourServerIP:4533
      • Supported Formats: MP3, FLAC, OGG, M4A, WMA, AIFF, WAV
      • Mobile Apps: Search "Subsonic" compatible apps
      
      💡 Usage Tips:
      • Add music to /DATA/Media/Music → Auto-scanned every 1 minute
      • Download music to /DATA/Downloads → Move to Music folder
      • Compatible Apps: DSub (Android), play:Sub (iOS), Ultrasonic
      
      ⚠️ Important:
      • First user becomes admin automatically
      • Supports Subsonic API for third-party apps

    zh_cn: |
      📁 文件夹结构指南：
      • 音乐库：/DATA/Media/Music
      • 下载音乐：/DATA/Downloads
      • 数据库：/DATA/AppData/navidrome/data（请勿修改）
      
      🚀 入门指南：
      • 首次访问：在 http://您的服务器IP:4533 创建管理员账户
      • 支持格式：MP3, FLAC, OGG, M4A, WMA, AIFF, WAV
      • 手机应用：搜索"Subsonic"兼容应用
      
      💡 使用技巧：
      • 将音乐添加到 /DATA/Media/Music → 每分钟自动扫描
      • 下载音乐到 /DATA/Downloads → 移动到音乐文件夹
      • 兼容应用：DSub (Android), play:Sub (iOS), Ultrasonic
      
      ⚠️ 重要提示：
      • 第一个用户自动成为管理员
      • 支持Subsonic API，可使用第三方应用

    ko_kr: |
      📁 폴더 구조 안내:
      • 음악 라이브러리: /DATA/Media/Music
      • 다운로드 음악: /DATA/Downloads
      • 데이터베이스: /DATA/AppData/navidrome/data (수정 금지)
      
      🚀 시작하기:
      • 첫 접속: http://서버IP:4533 에서 관리자 계정 생성
      • 지원 포맷: MP3, FLAC, OGG, M4A, WMA, AIFF, WAV
      • 모바일 앱: "Subsonic" 호환 앱 검색
      
      💡 사용 팁:
      • /DATA/Media/Music에 음악 추가 → 1분마다 자동 스캔
      • /DATA/Downloads에 음악 다운로드 → Music 폴더로 이동
      • 호환 앱: DSub (Android), play:Sub (iOS), Ultrasonic
      
      ⚠️ 주의사항:
      • 첫 번째 사용자가 자동으로 관리자가 됨
      • Subsonic API 지원으로 다양한 앱 사용 가능